<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clarango.document documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clarango 0.3.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="clarango.collection.html"><span>clarango.collection</span></a></li><li><a href="clarango.collection-ops.html"><span>clarango.collection-ops</span></a></li><li><a href="clarango.core.html"><span>clarango.core</span></a></li><li><a href="clarango.database.html"><span>clarango.database</span></a></li><li class="current"><a href="clarango.document.html"><span>clarango.document</span></a></li><li><a href="clarango.graph.html"><span>clarango.graph</span></a></li><li><a href="clarango.query.html"><span>clarango.query</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="clarango.document.html#var-create"><span>create</span></a></li><li><a href="clarango.document.html#var-create-multi"><span>create-multi</span></a></li><li><a href="clarango.document.html#var-delete-by-example"><span>delete-by-example</span></a></li><li><a href="clarango.document.html#var-delete-by-key"><span>delete-by-key</span></a></li><li><a href="clarango.document.html#var-get-by-example"><span>get-by-example</span></a></li><li><a href="clarango.document.html#var-get-by-key"><span>get-by-key</span></a></li><li><a href="clarango.document.html#var-get-first-by-example"><span>get-first-by-example</span></a></li><li><a href="clarango.document.html#var-get-info"><span>get-info</span></a></li><li><a href="clarango.document.html#var-replace-by-example"><span>replace-by-example</span></a></li><li><a href="clarango.document.html#var-replace-by-key"><span>replace-by-key</span></a></li><li><a href="clarango.document.html#var-update-by-example"><span>update-by-example</span></a></li><li><a href="clarango.document.html#var-update-by-key"><span>update-by-key</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>clarango.document documentation</h2><pre class="doc"></pre><div class="public" id="var-create"><h3>create</h3><div class="usage"><code>(create document &amp; args)</code></div><pre class="doc">Creates a document. 

First argument: A map that represents the document. 
If you want to specify a key by yourself, add it as the :_key parameter to the document map. 
If you would like the key to be created automatically, just leave this parameter out.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'createCollection' true/false, 'waitForSync' true/false} (replace the single quotes with double quotes)
- createCollection meaning if the collection should be created if it does not exist yet;
- waitForSync meaning if the server response should wait until the document is saved to disk;
The option map might be passed in an arbitrary position after the first argument.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L66">Source</a></div></div><div class="public" id="var-create-multi"><h3>create-multi</h3><div class="usage"><code>(create-multi documents &amp; args)</code></div><pre class="doc">Creates multiple documents at a time.

First argument is a vector of documents.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L86">Source</a></div></div><div class="public" id="var-delete-by-example"><h3>delete-by-example</h3><div class="usage"><code>(delete-by-example example &amp; args)</code></div><pre class="doc">Deletes a document or a number of documents out of a collection by giving an example to match.

Takes the example as a map as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'limit' limit} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be deleted
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L194">Source</a></div></div><div class="public" id="var-delete-by-key"><h3>delete-by-key</h3><div class="usage"><code>(delete-by-key &amp; args)</code></div><pre class="doc">Deletes a document by its id.

Takes the document key as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'rev' revision_id, 'policy' 'error/last'} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk;
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; 'error' meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; 'last' meaning the document is still deleted even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first argument.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L175">Source</a></div></div><div class="public" id="var-get-by-example"><h3>get-by-example</h3><div class="usage"><code>(get-by-example example &amp; args)</code></div><pre class="doc">Gets a document or a number of documents out of a collection by giving an example to match.

Takes the example as a map as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'skip' skip, 'limit' limit} (replace the single quotes with double quotes)
- skip meaning the (number of?) documents to skip in the result
- limit meaning the maximum amount of documents to return
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L22">Source</a></div></div><div class="public" id="var-get-by-key"><h3>get-by-key</h3><div class="usage"><code>(get-by-key &amp; args)</code></div><pre class="doc">Gets a document by its key.

Takes the document key as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'rev' revision_id} (replace the single quotes with double quotes)
- rev is the document revision; if the current document revision_id does not match the given one, an error is thrown
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L7">Source</a></div></div><div class="public" id="var-get-first-by-example"><h3>get-first-by-example</h3><div class="usage"><code>(get-first-by-example example &amp; args)</code></div><pre class="doc">Gets the first document out of a collection that matches an example.

Takes the example as a map as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L38">Source</a></div></div><div class="public" id="var-get-info"><h3>get-info</h3><div class="usage"><code>(get-info &amp; args)</code></div><pre class="doc">Gets information about a document by its key.

Takes the document key as first argument. 

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'rev' revision_id, 'policy' 'error/last'} (replace the single quotes with double quotes)
- rev is the document revision
- policy meaning the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; 'error' meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; 'last' meaning the document is still returned even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L48">Source</a></div></div><div class="public" id="var-replace-by-example"><h3>replace-by-example</h3><div class="usage"><code>(replace-by-example new-document example &amp; args)</code></div><pre class="doc">Replaces a document or a number of documents out of a collection by giving an example to match.

First argument: A map representing the new document.
Second argument: The example map.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'limit' limit} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be replaced
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L118">Source</a></div></div><div class="public" id="var-replace-by-key"><h3>replace-by-key</h3><div class="usage"><code>(replace-by-key new-document &amp; args)</code></div><pre class="doc">Replaces a document with a map representing the new document.

First argument: A map representing the new document.
Second argument: The document key.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'rev' revision_id, 'policy' 'error/last'} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; 'error' meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; 'last' meaning the document is still replaced even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L98">Source</a></div></div><div class="public" id="var-update-by-example"><h3>update-by-example</h3><div class="usage"><code>(update-by-example document-properties example &amp; args)</code></div><pre class="doc">Updates a document or a number of documents out of a collection by giving an example to match.

First argument: A map containing the new key/value pairs.
Second argument: The example map.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'limit' limit, 'keepNull' true/false} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk
- limit meaning the maximum amount of documents that will be updated
- keepNull meaning if the key/value pair should be deleted in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L157">Source</a></div></div><div class="public" id="var-update-by-key"><h3>update-by-key</h3><div class="usage"><code>(update-by-key document-properties &amp; args)</code></div><pre class="doc">Updates a document with a number of key value pairs. Inserts them into the existing document.

First argument: A map containing the new key/value pairs.
Second argument: The document key.

Takes optional a collection name and a db name as further arguments.
If omitted by user, the default db and collection will be used.

Also optional as argument is another map containing further options:
{'waitForSync' true/false, 'keepNull' true/false, 'rev' revision_id, 'policy' 'error/last'} (replace the single quotes with double quotes)
- waitForSync meaning if the server response should wait until the document is saved to disk;
- keepNull meaning if the key/value pair should be deleted in the document
  if the argument map contains it with a null as value;
- rev is the document revision
- policy meanins the desired behaviour in case the given revision number does not match the latest document revision
  -&gt; 'error' meaning that an error is thrown if the given revision_id does not match the revision_id in the document
  -&gt; 'last' meaning the document is still updated even if the given revision_id does not match the revision_id in the document
The option map might be passed in an arbitrary position after the first two arguments.</pre><div class="src-link"><a href="https://github.com/edlich/clarango/blob/master/src\clarango\document.clj#L135">Source</a></div></div></div></body></html>